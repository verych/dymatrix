<html>
<head>
    <meta charset="utf-8">
    <style>
        .controls {width: 600px; float: left;}
        .results {width: 600px; float: left;}
    </style>
</head>
<body>
    <script type="text/javascript" src="bin/dymatrix.min.js"></script>
    <script>
        function onMatrixCreated(arrayOfMatrix) {
            arrayOfMatrix.forEach(function (currentValue, index, arr) {
                setUpdate(currentValue, 'r' + index);
                currentValue.exportData();
            });
        };
        function setUpdate(m, id) {
            m.setData(function (data) {
                var el = document.getElementById(id);
                el.innerText = JSON.stringify(data).replace(/:{/g, ":\r\n{").replace(/},/g, "},\r\n");
            });
        }

        dymatrix.init('container', {
            groups: [
                {
                    id: 'group1',
                    name: 'Global access',
                    rows: [
                        { id: 'r11', name: 'Access office' },
                        { id: 'r12', name: 'Access support stage' },
                        { id: 'r13', name: 'Access tech stage' },
                        { id: 'r14', name: 'Access kitchen' },
                        { id: 'r15', name: 'Access mobile department' }
                    ]
                },
                {
                    id: 'group2',
                    name: 'Services',
                    rows: [
                        { id: 'r21', name: 'Open any doors' },
                        { id: 'r22', name: 'Turning on/off lights' },
                        { id: 'r23', name: 'Open windowses' }
                    ]
                },
                {
                    id: 'group3',
                    name: 'Administrative',
                    rows: [
                        { id: 'r31', name: 'Admin permissions' }
                    ]
                },
                {
                    id: 'group4',
                    name: 'Test features',
                    rows: [
                        { id: 'r41', name: 'Something else...' }
                    ]
                }
            ],
            columns: [
                { id: 'guest', name: 'Guest' },
                { id: 'user', name: 'Registered' },
                { id: 'admin', name: 'Admin' }
            ],
            options: [
                { id: 'allow', name: 'Allow' },
                { id: 'warn', name: 'Warn' },
                { id: 'disallow', name: 'Disallow' }
            ],
            values: {
                group1: {
                    r11: {
                        guest: 'disallow',
                        user: 'warn',
                        admin: 'disallow',
                    },
                    r12: {
                        guest: 'disallow',
                        user: 'allow',
                        admin: 'allow',
                    },
                    r13: {
                        guest: 'disallow',
                        user: 'warn',
                        admin: 'warn',
                    },
                    r14: {
                        guest: 'disallow',
                        user: 'disallow',
                        admin: 'disallow',
                    },
                    r15: {
                        guest: 'disallow',
                        user: 'warn',
                        admin: 'allow',
                    },
                }
            }
        }, 
        {
            headerPopup: false,
            cellPopup: true
        },
        onMatrixCreated);
    </script>
    <div class="controls">
        <div class="container"></div>
    </div>
    <div class="results">
        <strong>Results:</strong>
        <pre><div id="r0">...</div></pre>
    </div>
</body>
</html>